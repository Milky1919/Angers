<form id="search" method="{{ method or 'POST' }}" action="{{ url_for('search') }}" role="search">

  <style>
    /* Override grid to allow wider logo using Flexbox */
    @media screen and (min-width: 79.75em) {

      .center-alignment-yes #main_results #search_header,
      #main_results #search_header {
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
        grid-template-columns: none !important;
        grid-template-areas: none !important;
        gap: 1.2rem;
      }

      /* Reset logo width constraint */
      .center-alignment-yes #main_results #search_logo,
      #search_logo {
        width: auto !important;
        flex-shrink: 0;
        /* Prevent shrinking */
      }

      /* Adjust search box container to maintain size */
      #search_view {
        width: var(--center-page-width) !important;
        max-width: 100%;
      }
    }

    /* Ensure logo text doesn't wrap */
    #search_logo span {
      white-space: nowrap;
    }
  </style>
  <div id="search_header">
    <a id="search_logo" href="{{ url_for('index') }}" tabindex="0" title="{{ _('Display the front page') }}">
      <span hidden>K0GEcha</span>
      <span
        style="font-weight:bold; font-size:24px; color:var(--color-base-font); padding-right: 10px; white-space: nowrap;">K0GEcha</span>
    </a>
    <div id="search_view">
      <div class="search_box">
        <input id="q" name="q" type="text" placeholder="{{ _('Search for...') }}" tabindex="1" autocomplete="off"
          autocapitalize="none" spellcheck="false" autocorrect="off" dir="auto" value="{{ q or '' }}">
        <button id="clear_search" type="reset" aria-label="{{ _('clear') }}" class="hide_if_nojs"><span>{{
            icon_big('close') }}</span><span class="show_if_nojs">{{ _('clear') }}</span></button>
        <button id="send_search" type="submit" {%- if search_on_category_select
          -%}name="category_{{ selected_categories[0]|replace(' ', '_') }}" {%- endif -%}
          aria-label="{{ _('search') }}"><span class="hide_if_nojs">{{ icon_big('search') }}</span><span
            class="show_if_nojs">{{ _('search') }}</span></button>
        <div class="autocomplete hide_if_nojs">
          <ul></ul>
        </div>
      </div>
    </div>
    {% set display_tooltip = true %}
    {% include 'simple/categories.html' %}
  </div>
  <div class="search_filters">
    {% include 'simple/filters/languages.html' %}
    {% include 'simple/filters/time_range.html' %}
    {% include 'simple/filters/safesearch.html' %}
  </div>
  <input type="hidden" name="theme" value="{{ theme }}">
  {% if timeout_limit %}<input type="hidden" name="timeout_limit" value="{{ timeout_limit|e }}">{% endif %}
</form>